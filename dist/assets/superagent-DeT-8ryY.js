import{a as L}from"./call-bind-oCmkau44.js";import{c as $}from"./component-emitter-DEEM1Z1p.js";import{f as F}from"./fast-safe-stringify-Bs-GRd1a.js";import{l as v}from"./qs-BIvw0DJc.js";var C={exports:{}},b={};(function(t){t.type=s=>s.split(/ *; */).shift(),t.params=s=>{const n={};for(const h of s.split(/ *; */)){const d=h.split(/ *= */),c=d.shift(),m=d.shift();c&&m&&(n[c]=m)}return n},t.parseLinks=s=>{const n={};for(const h of s.split(/ *, */)){const d=h.split(/ *; */),c=d[0].slice(1,-1),m=d[1].split(/ *= */)[1].slice(1,-1);n[m]=c}return n},t.cleanHeader=(s,n)=>(delete s["content-type"],delete s["content-length"],delete s["transfer-encoding"],delete s.host,n&&(delete s.authorization,delete s.cookie),s),t.isObject=s=>s!==null&&typeof s=="object",t.hasOwn=Object.hasOwn||function(s,n){if(s==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(s),n)},t.mixin=(s,n)=>{for(const h in n)t.hasOwn(n,h)&&(s[h]=n[h])},t.isGzipOrDeflateEncoding=s=>new RegExp(/^\s*(?:deflate|gzip)\s*$/).test(s.headers["content-encoding"]),t.isBrotliEncoding=s=>new RegExp(/^\s*(?:br)\s*$/).test(s.headers["content-encoding"])})(b);const{isObject:E,hasOwn:w}=b;var G=p;function p(){}p.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this};p.prototype.parse=function(t){return this._parser=t,this};p.prototype.responseType=function(t){return this._responseType=t,this};p.prototype.serialize=function(t){return this._serializer=t,this};p.prototype.timeout=function(t){if(!t||typeof t!="object")return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(const s in t)if(w(t,s))switch(s){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",s)}return this};p.prototype.retry=function(t,s){return(arguments.length===0||t===!0)&&(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=s,this};const M=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),Q=new Set([408,413,429,500,502,503,504,521,522,524]);p.prototype._shouldRetry=function(t,s){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{const n=this._retryCallback(t,s);if(n===!0)return!0;if(n===!1)return!1}catch(n){console.error(n)}return!!(s&&s.status&&Q.has(s.status)||t&&(t.code&&M.has(t.code)||t.timeout&&t.code==="ECONNABORTED"||t.crossDomain))};p.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()};p.prototype.then=function(t,s){if(!this._fullfilledPromise){const n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((h,d)=>{n.on("abort",()=>{if(this._maxRetries&&this._maxRetries>this._retries)return;if(this.timedout&&this.timedoutError){d(this.timedoutError);return}const c=new Error("Aborted");c.code="ABORTED",c.status=this.status,c.method=this.method,c.url=this.url,d(c)}),n.end((c,m)=>{c?d(c):h(m)})})}return this._fullfilledPromise.then(t,s)};p.prototype.catch=function(t){return this.then(void 0,t)};p.prototype.use=function(t){return t(this),this};p.prototype.ok=function(t){if(typeof t!="function")throw new Error("Callback required");return this._okCallback=t,this};p.prototype._isResponseOK=function(t){return t?this._okCallback?this._okCallback(t):t.status>=200&&t.status<300:!1};p.prototype.get=function(t){return this._header[t.toLowerCase()]};p.prototype.getHeader=p.prototype.get;p.prototype.set=function(t,s){if(E(t)){for(const n in t)w(t,n)&&this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=s,this.header[t]=s,this};p.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this};p.prototype.field=function(t,s,n){if(t==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(E(t)){for(const h in t)w(t,h)&&this.field(h,t[h]);return this}if(Array.isArray(s)){for(const h in s)w(s,h)&&this.field(t,s[h]);return this}if(s==null)throw new Error(".field(name, val) val can not be empty");return typeof s=="boolean"&&(s=String(s)),n?this._getFormData().append(t,s,n):this._getFormData().append(t,s),this};p.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)};p.prototype._auth=function(t,s,n,h){switch(n.type){case"basic":this.set("Authorization",`Basic ${h(`${t}:${s}`)}`);break;case"auto":this.username=t,this.password=s;break;case"bearer":this.set("Authorization",`Bearer ${t}`);break}return this};p.prototype.withCredentials=function(t){return t===void 0&&(t=!0),this._withCredentials=t,this};p.prototype.redirects=function(t){return this._maxRedirects=t,this};p.prototype.maxResponseSize=function(t){if(typeof t!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=t,this};p.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};p.prototype.send=function(t){const s=E(t);let n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(s&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(s&&E(this._data))for(const h in t){if(typeof t[h]=="bigint"&&!t[h].toJSON)throw new Error("Cannot serialize BigInt value to json");w(t,h)&&(this._data[h]=t[h])}else{if(typeof t=="bigint")throw new Error("Cannot send value of type BigInt");typeof t=="string"?(n||this.type("form"),n=this._header["content-type"],n&&(n=n.toLowerCase().trim()),n==="application/x-www-form-urlencoded"?this._data=this._data?`${this._data}&${t}`:t:this._data=(this._data||"")+t):this._data=t}return!s||this._isHost(t)?this:(n||this.type("json"),this)};p.prototype.sortQuery=function(t){return this._sort=typeof t>"u"?!0:t,this};p.prototype._finalizeQueryString=function(){const t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){const s=this.url.indexOf("?");if(s>=0){const n=this.url.slice(s+1).split("&");typeof this._sort=="function"?n.sort(this._sort):n.sort(),this.url=this.url.slice(0,s)+"?"+n.join("&")}}};p.prototype._appendQueryString=()=>{console.warn("Unsupported")};p.prototype._timeoutError=function(t,s,n){if(this._aborted)return;const h=new Error(`${t+s}ms exceeded`);h.timeout=s,h.code="ECONNABORTED",h.errno=n,this.timedout=!0,this.timedoutError=h,this.abort(),this.callback(h)};p.prototype._setTimeouts=function(){const t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(()=>{t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(()=>{t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};const O=b;var X=g;function g(){}g.prototype.get=function(t){return this.header[t.toLowerCase()]};g.prototype._setHeaderProperties=function(t){const s=t["content-type"]||"";this.type=O.type(s);const n=O.params(s);for(const h in n)Object.prototype.hasOwnProperty.call(n,h)&&(this[h]=n[h]);this.links={};try{t.link&&(this.links=O.parseLinks(t.link))}catch{}};g.prototype._setStatusProperties=function(t){const s=Math.trunc(t/100);this.statusCode=t,this.status=this.statusCode,this.statusType=s,this.info=s===1,this.ok=s===2,this.redirect=s===3,this.clientError=s===4,this.serverError=s===5,this.error=s===4||s===5?this.toError():!1,this.created=t===201,this.accepted=t===202,this.noContent=t===204,this.badRequest=t===400,this.unauthorized=t===401,this.notAcceptable=t===406,this.forbidden=t===403,this.notFound=t===404,this.unprocessableEntity=t===422};const J=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];class j{constructor(){this._defaults=[]}_setDefaults(s){for(const n of this._defaults)s[n.fn](...n.args)}}for(const t of J)j.prototype[t]=function(){for(var s=arguments.length,n=new Array(s),h=0;h<s;h++)n[h]=arguments[h];return this._defaults.push({fn:t,args:n}),this};var K=j;(function(t,s){let n;typeof window<"u"?n=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),n=void 0):n=self;const h=$,d=F,c=v,m=G,{isObject:k,mixin:D,hasOwn:x}=b,U=X,T=K;function N(){}t.exports=function(e,r){return typeof r=="function"?new s.Request("GET",e).end(r):arguments.length===1?new s.Request("GET",e):new s.Request(e,r)},s=t.exports;const l=s;s.Request=f,l.getXHR=()=>{if(n.XMLHttpRequest)return new n.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")};const z="".trim?e=>e.trim():e=>e.replace(/(^\s*|\s*$)/g,"");function A(e){if(!k(e))return e;const r=[];for(const i in e)x(e,i)&&R(r,i,e[i]);return r.join("&")}function R(e,r,i){if(i!==void 0){if(i===null){e.push(encodeURI(r));return}if(Array.isArray(i))for(const o of i)R(e,r,o);else if(k(i))for(const o in i)x(i,o)&&R(e,`${r}[${o}]`,i[o]);else e.push(encodeURI(r)+"="+encodeURIComponent(i))}}l.serializeObject=A;function S(e){const r={},i=e.split("&");let o,u;for(let a=0,y=i.length;a<y;++a)o=i[a],u=o.indexOf("="),u===-1?r[decodeURIComponent(o)]="":r[decodeURIComponent(o.slice(0,u))]=decodeURIComponent(o.slice(u+1));return r}l.parseString=S,l.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":e=>c.stringify(e,{indices:!1,strictNullHandling:!0}),"application/json":d},l.parse={"application/x-www-form-urlencoded":S,"application/json":JSON.parse};function I(e){const r=e.split(/\r?\n/),i={};let o,u,a,y;for(let q=0,B=r.length;q<B;++q)u=r[q],o=u.indexOf(":"),o!==-1&&(a=u.slice(0,o).toLowerCase(),y=z(u.slice(o+1)),i[a]=y);return i}function H(e){return/[/+]json($|[^-\w])/i.test(e)}function _(e){this.req=e,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType>"u"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;let{status:r}=this.xhr;r===1223&&(r=204),this._setStatusProperties(r),this.headers=I(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&e._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}D(_.prototype,U.prototype),_.prototype._parseBody=function(e){let r=l.parse[this.type];return this.req._parser?this.req._parser(this,e):(!r&&H(this.type)&&(r=l.parse["application/json"]),r&&e&&(e.length>0||e instanceof Object)?r(e):null)},_.prototype.toError=function(){const{req:e}=this,{method:r}=e,{url:i}=e,o=`cannot ${r} ${i} (${this.status})`,u=new Error(o);return u.status=this.status,u.method=r,u.url=i,u},l.Response=_;function f(e,r){const i=this;this._query=this._query||[],this.method=e,this.url=r,this.header={},this._header={},this.on("end",()=>{let o=null,u=null;try{u=new _(i)}catch(y){return o=new Error("Parser is unable to parse the response"),o.parse=!0,o.original=y,i.xhr?(o.rawResponse=typeof i.xhr.responseType>"u"?i.xhr.responseText:i.xhr.response,o.status=i.xhr.status?i.xhr.status:null,o.statusCode=o.status):(o.rawResponse=null,o.status=null),i.callback(o)}i.emit("response",u);let a;try{i._isResponseOK(u)||(a=new Error(u.statusText||u.text||"Unsuccessful HTTP response"))}catch(y){a=y}a?(a.original=o,a.response=u,a.status=a.status||u.status,i.callback(a,u)):i.callback(null,u)})}h(f.prototype),D(f.prototype,m.prototype),f.prototype.type=function(e){return this.set("Content-Type",l.types[e]||e),this},f.prototype.accept=function(e){return this.set("Accept",l.types[e]||e),this},f.prototype.auth=function(e,r,i){arguments.length===1&&(r=""),typeof r=="object"&&r!==null&&(i=r,r=""),i||(i={type:typeof btoa=="function"?"basic":"auto"});const o=i.encoder?i.encoder:u=>{if(typeof btoa=="function")return btoa(u);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,r,i,o)},f.prototype.query=function(e){return typeof e!="string"&&(e=A(e)),e&&this._query.push(e),this},f.prototype.attach=function(e,r,i){if(r){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,r,i||r.name)}return this},f.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},f.prototype.callback=function(e,r){if(this._shouldRetry(e,r))return this._retry();const i=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),i(e,r)},f.prototype.crossDomainError=function(){const e=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},f.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},f.prototype.ca=f.prototype.agent,f.prototype.buffer=f.prototype.ca,f.prototype.write=()=>{throw new Error("Streaming is not supported in browser version of superagent")},f.prototype.pipe=f.prototype.write,f.prototype._isHost=function(e){return e&&typeof e=="object"&&!Array.isArray(e)&&Object.prototype.toString.call(e)!=="[object Object]"},f.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||N,this._finalizeQueryString(),this._end()},f.prototype._setUploadTimeout=function(){const e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(()=>{e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},f.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));const e=this;this.xhr=l.getXHR();const{xhr:r}=this;let i=this._formData||this._data;this._setTimeouts(),r.addEventListener("readystatechange",()=>{const{readyState:u}=r;if(u>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),u!==4)return;let a;try{a=r.status}catch{a=0}if(!a)return e.timedout||e._aborted?void 0:e.crossDomainError();e.emit("end")});const o=(u,a)=>{a.total>0&&(a.percent=a.loaded/a.total*100,a.percent===100&&clearTimeout(e._uploadTimeoutTimer)),a.direction=u,e.emit("progress",a)};if(this.hasListeners("progress"))try{r.addEventListener("progress",o.bind(null,"download")),r.upload&&r.upload.addEventListener("progress",o.bind(null,"upload"))}catch{}r.upload&&this._setUploadTimeout();try{this.username&&this.password?r.open(this.method,this.url,!0,this.username,this.password):r.open(this.method,this.url,!0)}catch(u){return this.callback(u)}if(this._withCredentials&&(r.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof i!="string"&&!this._isHost(i)){const u=this._header["content-type"];let a=this._serializer||l.serialize[u?u.split(";")[0]:""];!a&&H(u)&&(a=l.serialize["application/json"]),a&&(i=a(i))}for(const u in this.header)this.header[u]!==null&&x(this.header,u)&&r.setRequestHeader(u,this.header[u]);this._responseType&&(r.responseType=this._responseType),this.emit("request",this),r.send(typeof i>"u"?null:i)},l.agent=()=>new T;for(const e of["GET","POST","OPTIONS","PATCH","PUT","DELETE"])T.prototype[e.toLowerCase()]=function(r,i){const o=new l.Request(e,r);return this._setDefaults(o),i&&o.end(i),o};T.prototype.del=T.prototype.delete,l.get=(e,r,i)=>{const o=l("GET",e);return typeof r=="function"&&(i=r,r=null),r&&o.query(r),i&&o.end(i),o},l.head=(e,r,i)=>{const o=l("HEAD",e);return typeof r=="function"&&(i=r,r=null),r&&o.query(r),i&&o.end(i),o},l.options=(e,r,i)=>{const o=l("OPTIONS",e);return typeof r=="function"&&(i=r,r=null),r&&o.send(r),i&&o.end(i),o};function P(e,r,i){const o=l("DELETE",e);return typeof r=="function"&&(i=r,r=null),r&&o.send(r),i&&o.end(i),o}l.del=P,l.delete=P,l.patch=(e,r,i)=>{const o=l("PATCH",e);return typeof r=="function"&&(i=r,r=null),r&&o.send(r),i&&o.end(i),o},l.post=(e,r,i)=>{const o=l("POST",e);return typeof r=="function"&&(i=r,r=null),r&&o.send(r),i&&o.end(i),o},l.put=(e,r,i)=>{const o=l("PUT",e);return typeof r=="function"&&(i=r,r=null),r&&o.send(r),i&&o.end(i),o}})(C,C.exports);var W=C.exports;const et=L(W);export{et as s};
